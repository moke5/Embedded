## 目录结构

```plaintext
project/                       # 项目根目录
├── build/                     # 编译产物目录（自动生成）
├── doc/                       # 文档目录
│   ├── api/                   # API接口文档
│   ├── design/                # 设计文档（架构、模块设计等）
│   └── user_manual/           # 用户手册（如有）
├── inc/                       # 公共头文件目录（对外暴露的接口）
│    ├── module_a.h
│    └── module_b.h
├── res/                       # 资源文件目录（新增）
│   ├── config/                # 配置文件（如.ini/.json/.xml）
│   │   └── app_config.json
│   ├── data/                  # 静态数据文件（如模板、字典、初始数据）
│   │   └── default_data.csv
│   ├── log/                   # 日志输出目录（可选，也可运行时创建）
│   │   └── app.log
│   └── ui/                    # GUI相关资源（如图片、字体、布局文件）
│       ├── icon.png
│       └── font.ttf
├── src/                       # 源代码目录（核心实现）
│   ├── module_a/              # 模块A的源码（按功能/模块拆分）
│   │   ├── module_a.c
│   │   └── private_a.h        # 模块A的私有头文件（仅内部使用）
│   ├── module_b/              # 模块B的源码
│   │   ├── module_b.c
│   │   └── private_b.h
│   └── main.c                 # 程序入口文件（main函数）
├── test/                      # 测试代码目录
│   ├── test_module_a.c
│   └── test_module_b.c
├── third_party/               # 第三方依赖库（如libcurl、json-c等）
│   ├── include/               # 第三方库的头文件
│   └── lib/                   # 第三方库的编译产物（.a/.so）
├── Makefile                   # 编译脚本（核心）
├── CMakeLists.txt             # 可选：跨平台编译配置（替代Makefile）
└── README.md                  # 项目说明（功能、编译、使用方式）
```



```shell
gcc   ./src/*.c  -o  ./build/demo    -I  ./inc
```

-I + 头文件路径     表示在编译的时候告诉编译器我自定义的头文件在哪里 



## 条件编译

能够根据不同情况编译不同代码，产生不同目标文件的机制，称之为条件编译。说白了，条件编译的意思就是有条件地编译某些我们指定的代码，而不一定编译文件中所有的代码。



### \#if

```c
#if 整型常量表达式1
    程序段1
#elif 整型常量表达式2
    程序段2
#elif 整型常量表达式3
    程序段3
#else
    程序段4
#endif
```



### \#ifdef

```c
#ifdef  宏名
    程序段1
#else 
    程序段2
#endif
```



```c
#ifdef   宏名
#undef  宏名 //取消定义该宏
    程序段
#endif
```



```c
#ifndef  宏名
    程序段1
#else
    程序段2
#endif
```



```c
#if defined(_WIN32)
    printf("windows32\n");
#elif defined(__linux__)
    printf("linux\n");
#else
    printf("other opreation system");
#fdef xxx
	printf("xxx\n");
#endif
#else
	printf("1\n");
#endif
```

- 编译

```bash
gcc main.c -Dxxx
```



### \#ifndef

- 跟ifdef相反，常用于头文件



## 头文件

如何确保测试的标识符没有在别处定义？

用文件名作为标识符、使用大写字母、用下划线字符代替文件名中的点字符、用下划线字符做前缀或者后缀

- 如果头文件已经展开，就不再展开



```c
#ifndef __HEAD_H //该宏的作用：防止头文件被重复包含
#define __HEAD_H
//系统头文件
//复合数据类型的设计  结构体数据类型   枚举数据类型
//宏定义
//函数的声明
//全局变量的声明
#endif
```



