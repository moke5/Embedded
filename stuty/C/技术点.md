## C语言

#### 变量声明和定义

- 重点

```
为变量分配地址和存储空间的称为定义，不分配地址的称为声明
一个变量可以在多个地方声明，但是只能在一个地方定义
加入extern修饰的变量的声明，说明在此变量在文件外或文件后面部分定义
```



#### 变量作用域

- 重点

```
变量的作用域决定变量在程序中的可见性和声明周期
局部作用域：
在函数内部定义的变量具有局部作用域。这些变量只在定义它们的函数内部可见，并且当函数执行完毕后，变量的内存空间会被释放。函数每次调用时，都会为局部变量分配新的内存空间，并在函数返回时释放。
局部变量可以使用auto关键字显示声明（但实际上在c语言中，如果不适用static或extern关键字，局部变量默认为auto），但通常省略这个关键字。

全局作用域：
在所有函数之外定义的变量具有全局作用域。这些变量在整个程序中可见，并且它们的声明周期贯穿整个程序的执行，全局变量在程序开始执行时分配内存空间，并在程序结束时释放。
全局变量可以使用extern关键字在另一个源文件中声明，以便在其他文件中访问。但是extern只是声明变量，并不分配内存空间，真正的内存空间是在定义全局变量的源文件中分配。

此外，c语言还提供了static关键字，它可以用来修饰局部变量的作用域和声明周期：
当static修饰局部变量时，该变量具有文件作用域，但它
```



#### 数组的特点

数组是一种存储相同数据类型的连续内存块的数据结构

- 长度固定：数组在声明时需要指定长度，在程序运行期间长度不能改变
- 存储相同数据类型：数组元素必须是相同数据类型的数据
- 连续内存存储：数组中元素在内存中是连续存储的，这样可以通过下标进行快速访问
- 下标访问：数组中的元素可以通过下标来访问和修改，数组的下标从0开始
- 缺乏越界检查：即访问数组时没有对下标越界进行检查，则需要程序员自己负责确保不越界访问，否则可能会导致内存访问错误或程序崩溃



#### 越界内存访问

> 程序试图访问不属于自己分配或合法范围的地址

```
向系统申请了一块内存，在使用的时候，超出了申请范围
内存越界访问有两种：
一种是：读越界，即读到了不属于自己的数据，如果读的内存是无效的，程序立即崩溃了。如果所读内存地址是有效的，在读的时候不会出问题，但由于读到的数据是随机的，它会产生不可预料的后果。
另外一种是写越界，又叫缓冲区溢出，所写入的数据对别人来说是随机的，它也会产生不可预料的后果。
```



#### 内存泄露以及如何解决

```
内存泄漏是指程序在申请内存后，没有释放已申请的内存空间。
内存泄漏常见情况:
1.忘记释放内存。
解决办法:记得使用delete/free来释放内存，更优化的方案是使用C++智能指针。比如C++11引入了智能指针，它可以自动管理内存，当智能指针离开作用域时，它会自动释放所管理的内存。这样，就可以避免忘记释放内存的问题。

2.重复申请内存，未释放内存再次申请，会导致原内存泄露。
解决办法:在申请新内存之前,先释放旧内存。int*p=malloc(4); p=malloc(4);

3.静态变量导致的内存泄漏。静态变量在程序运行期间不会释放，如果静态变量持有大量内存，也会导致内存泄漏。
解决办法:尽量避免静态变量持有大量内存，或者在程序退出前手动释放内存。
```



#### 指针函数和函数指针

```
函数指针:函数指针是指向函数的指针变量，函数指针的声明方式为:返回类型(*指针变量名)(参数列表)。
通过函数指针可以动态选择调用不同的函数。
也可以作为参数传递给其他函数，以实现回调函数的功能。
作为数据结构的成员，用于实现函数的动态绑定。

指针函数:指针函数是一个返回指针的函数。指针函数的声明方式为:指针数据类型函数名(参数列表)。
指针函数返回一个指针，可以是指向任何类型的指针。
可以动态地分配内存并返回指向该内存的指针。
也可以用于实现动态创建对象或数据结构的功能。

函数指针用于指向函数的地址并调用相应的函数，而指针函数是返回指针的函数，用于动态分配内存或创建对象。
```



#### sizeof和strlen

```
1、strlen用于计算字符串的长度，sizeof用于测量数据类型或者变量的所占的字节数。

2、stlen函数是C标准库中的一个函数，用于计算字符串的长度，即字符串中非空字符的个数(不包括结尾的空字符'\0')。sizeof操作符是C/C++语言中的一个运算符，用于获取对象(变量、数据类型等)所占用的字节数。

3、注意，sIzeo不会计算指针的指向的内存空间大小，而是返回指针本身的大小。因此，sizeof的结果在编译时确定，并且对于不同的编译器和平台可能会有所差异。
(sizeo堤一个运算符，能够计算出变量的字节大小，对于字符串来说，sizeof会把字符串最后的那个'\0'字节也计算进去。strlen是C语言库里提供的一个计算字符串长度的函数，遇到'\0'就会结束，所以并不是适用于所有的情况。)
```



#### const

